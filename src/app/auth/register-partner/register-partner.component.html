<!--begin::Body-->
<div class="login__body">

  <!--begin::Register-->
  <div class="login__form">
    <div class="login__title">
      <h3>{{ 'AUTH.REGISTER.TITLE' | translate }} {{ 'AUTH.GENERAL.AS_PARTNER' | translate }}</h3>
    </div>

    <!--begin::Notice-->
    <auth-notice></auth-notice>
    <!--end::Notice-->

    <!--begin::Form-->
    <form class="login__form form" [formGroup]="registerForm" autocomplete="off" class="login-form">
      <div class="form-group">
        <mat-form-field>
          <mat-label>{{ 'AUTH.INPUT.PARTNER_NAME' | translate }}</mat-label>
          <input matInput type="text" placeholder="{{ 'AUTH.INPUT.PARTNER_NAME' | translate }}"
            formControlName="fullname" />
          <mat-error *ngIf="isControlHasError('fullname','required')">
            <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('fullname','minlength')">
            <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | translate }}
              {{validator.name.minLength}}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('fullname','maxlength')">
            <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | translate }}
              {{validator.name.maxLength}}</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>{{ 'AUTH.INPUT.EMAIL' | translate }}</mat-label>
          <input matInput type="text" placeholder="{{ 'AUTH.INPUT.EMAIL' | translate }}" formControlName="email"
            autocomplete="off" />
          <mat-error *ngIf="isControlHasError('email','email')">
            <strong>{{ 'AUTH.VALIDATION.INVALID_FIELD' | translate }}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('email','required')">
            <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('fullname','minlength')">
            <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | translate }}
              {{validator.name.minLength}}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('email','maxlength')">
            <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | translate }}
              {{validator.email.maxLength}}</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>{{ 'AUTH.INPUT.PASSWORD' | translate }}</mat-label>
          <input matInput type="password" placeholder="{{ 'AUTH.INPUT.PASSWORD' | translate }}"
            formControlName="password" autocomplete="off" />
          <mat-error *ngIf="isControlHasError('password','required')">
            <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('password','minlength')">
            <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | translate }}
              {{validator.password.minLength}}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('password','maxlength')">
            <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | translate }}
              {{validator.password.maxLength}}</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>{{ 'AUTH.INPUT.CONFIRM_PASSWORD' | translate }}</mat-label>
          <input matInput type="password" placeholder="{{ 'AUTH.INPUT.CONFIRM_PASSWORD' | translate }}"
            formControlName="confirmPassword" autocomplete="off" />
          <mat-error *ngIf="isControlHasError('confirmPassword','required')">
            <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('confirmPassword','minlength')">
            <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | translate }}
              {{validator.password.minLength}}</strong>
          </mat-error>
          <mat-error *ngIf="isControlHasError('confirmPassword','maxlength')">
            <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | translate }}
              {{validator.password.maxLength}}</strong>
          </mat-error>
          <mat-error
            *ngIf="registerForm.get('confirmPassword').errors && registerForm.get('confirmPassword').errors.ConfirmPassword">
            <strong>{{ 'AUTH.VALIDATION.PASSWORD_CONFIRMATION' | translate }}</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field>
          <mat-label>{{'FIELDS.PROFILE.DESCRIPTION.TITLE' | translate}}</mat-label>
          <textarea matInput class="short" type="text" formControlName="description"
            placeholder="{{'FIELDS.PROFILE.DESCRIPTION.PLACEHOLDER' | translate}}"></textarea>
          <mat-error *ngIf="isControlHasError('description','required')">
            <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <div formArrayName="payments">
          <mat-form-field *ngFor="let payment of payments.controls; index as i">
            <!-- <input [formControlName]=" i" placeholder="City"> -->
            <input matInput type="text" [formControlName]="i" placeholder="{{paymentsList[i].title | translate}}">
            <mat-error *ngIf="showPaymentError">
              <strong>{{ 'AUTH.VALIDATION.REQUIRED_ONE' | translate }}</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-md-12">
          <label class="col-form-label">{{ 'FIELDS.PROFILE.PARTNER_IMAGE.TITLE' | translate }}</label>
          <div class="avatar" id="merchat_avatar">
            <div class="avatar-img">
              <div class="avatar-container">
                <img *ngIf="previewUrl" class="avatar-holder" [src]="previewUrl">
                <div *ngIf="previewUrl" class="image-cancel">
                  <span class="mdi mdi-close-circle" (click)="onImageCancel()">
                  </span>
                </div>
              </div>
            </div>
            <button type="button" mat-raised-button
              (click)="fileInputMerch.click()">{{ 'FIELDS.PROFILE.PARTNER_IMAGE.ACTION' | translate }}</button>
            <label class="avatar-upload">
              <input type="file" hidden (change)="fileProgress($event)" name="profile_avatar" accept=".png, .jpg, .jpeg"
                #fileInputMerch>
            </label>
            <mat-error *ngIf="showImageError" class="error text-danger">
              {{ 'FORM.VALIDATION.REQUIRED_FIELD' | translate }}</mat-error>
          </div>
        </div>
      </div>
      <div class="form-group">
        <mat-checkbox name="agree" formControlName="agree">
          {{ 'AUTH.TERMS.A' | translate }} <a
            (click)="openTermsDialog()"><strong>{{ 'AUTH.TERMS.B' | translate }}</strong></a>
        </mat-checkbox>
        <mat-error *ngIf="isControlHasError('agree','required')">
          <strong>{{ 'AUTH.VALIDATION.AGREEMENT_REQUIRED' | translate }}</strong>
        </mat-error>
      </div>

      <!--begin::Action-->
      <div class="login__actions">
        <a href="javascript:;" routerLink="/auth/forgot-password" class="login__link-forgot mr-2">
          {{ 'AUTH.GENERAL.FORGOT_BUTTON' | translate }}
        </a>
        <a href="javascript:;" routerLink="/" class="link login__link-forgot">
        </a>
        <button routerLink="/auth/login" type="button" [disabled]="loading" id="kt_login_signup_cancel"
          class="btn btn-secondary btn-elevate mr-2">{{ 'AUTH.GENERAL.BACK_BUTTON' | translate }}</button>
        <button (click)="submit()" (keyup.enter)="submit()" id="kt_login_signin_submit"
          class="btn btn-primary btn-elevate login__btn-primary"
          [ngClass]="{'spinner spinner--right spinner--md spinner--light': loading}">{{ 'AUTH.REGISTER.BUTTON' | translate }}</button>
      </div>
      <!--end::Action-->

    </form>
    <!--end::Form-->

  </div>
  <!--end::Register-->

</div>
<!--end::Body-->
