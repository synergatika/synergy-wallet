<div class="scan-modal-container">
  <button type="button" class="close-btn" aria-label="Close" (click)="onFinalStep()">
    <span aria-hidden="true">&times;</span>
  </button>
  <aw-wizard>
    <aw-wizard-step stepTitle="Scan Or Add">
      <scanner-notice></scanner-notice>
      <div class="step-container row justify-content-md-center">
        <div class="col-md-8">
          <div *ngIf="!showIdentifierForm">
            <h3 class="heading">{{ 'MERCHANT.SCANNER.SCAN_LOYALTY.HEADING' | translate }}</h3>
            <app-sub-scanner (scan_identifier)="onSuccessScanIdentifier($event)">
            </app-sub-scanner>
          </div>
          <button class="btn btn-primary" type="button" (click)="onShowIdentifierFormChange()">
            <span *ngIf="!showIdentifierForm; else back_to_scanner">
              {{ 'MERCHANT.SCANNER.SCAN_LOYALTY.ALT_PROMPT' | translate }}
            </span>
            <ng-template #back_to_scanner>
              <span>{{ 'MERCHANT.SCANNER.BACK_TO_SCANNER' | translate }}</span>
            </ng-template>
          </button>
          <div *ngIf="showIdentifierForm">
            <app-sub-identifier-form (add_identifier)="onSubmitIdentifierForm($event)">
            </app-sub-identifier-form>
            <!-- <button type="button" awPreviousStep>Go to previous step</button> -->
          </div>
        </div>
      </div>
    </aw-wizard-step>
    <aw-wizard-step stepTitle="Email" awOptionalStep>
      <scanner-notice></scanner-notice>
      <div class="step-container row justify-content-md-center">
        <!-- <p [innerHTML]="messages.stepB"></p> -->
        <app-sub-email-form (previous_step)="onPreviousStep($event)" (add_email)="onSubmitEmailForm($event)">
        </app-sub-email-form>
      </div>
    </aw-wizard-step>
    <aw-wizard-step stepTitle="Amount">
      <scanner-notice></scanner-notice>
      <div class="step-container row justify-content-md-center">
        <!-- <p>{{this.messages.stepC}}</p> -->
        <app-sub-amount-form (previous_step)="onPreviousStep($event)" (add_amount)="onSubmitAmountForm($event)">
        </app-sub-amount-form>
      </div>
    </aw-wizard-step>
    <aw-wizard-step stepTitle="Discount">
      <scanner-notice></scanner-notice>
      <div class="step-container row justify-content-md-center">
        <app-sub-discount-form (previous_step)="onPreviousStep($event)" (add_discount)="onSubmitDiscountForm($event)">
        </app-sub-discount-form>
      </div>
    </aw-wizard-step>
    <aw-wizard-step stepTitle="Final">
      <scanner-notice></scanner-notice>
      <div class="step-container row justify-content-md-center">
        <app-sub-final-step (finalize)="onFinalStep($event)" [type]=1></app-sub-final-step>
      </div>
    </aw-wizard-step>
  </aw-wizard>
</div>
